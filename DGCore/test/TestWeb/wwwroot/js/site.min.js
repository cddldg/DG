var Class=function(){var i=function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n=function(){function t(){!t.initPrototype&&this.init&&this.init.apply(this,arguments)}var r,f,u;for(this.initPrototype=!0,r=new this,this.initPrototype=!1,f=Array.prototype.slice.call(arguments)||[];u=f.shift();)i(r,u.prototype||u);return t.prototype=r,t.prototype.constructor=t,t.extend=n,t},t=function(){};return t.extend=n,t}(),_indexOf=function(n){if(n===null)return-1;for(var t=0,i=n.length;t<i;t++)if(n[t]===item)return t;return-1},Event=Class.extend({on:function(n,t){return this.__events||(this.__events={}),this.__events[n]||(this.__events[n]=[]),_indexOf(this.__events,t)===-1&&typeof t=="function"&&this.__events[n].push(t),this},fire:function(n){if(this.__events&&this.__events[n]){var r=Array.prototype.slice.call(arguments,1)||[],i=this.__events[n],t=0,u=i.length;for(t;t<u;t++)i[t].apply(this,r);return this}},off:function(n,t){if(n||t||(this.__events={}),n&&!t&&delete this.__events[n],n&&t)var i=this.__events[n],r=_indexOf(i,t)(r>-1)&&i.splice(r,1);return this}}),Base=Class.extend(Event,{init:function(n){this.__config=n;this.bind();this.render()},get:function(n){return this.__config[n]},set:function(n,t){this.__config[n]=t},bind:function(){},render:function(){},destroy:function(){this.off()}}),TextCount=Base.extend({_getNum:function(){return this.get("input").val().length},bind:function(){var n=this;n.get("input").on("keyup",function(){n.fire("Text.input",n._getNum());n.render()})},render:function(){var n=this._getNum();$("#J_input_count").length==0&&this.get("input").after('<span id="J_input_count"><\/span>');$("#J_input_count").html(n+"个字")}});$(function(){var n=new TextCount({input:$("#J_input")});n.on("Text.input",function(n){n>5&&alert(this.value)})});